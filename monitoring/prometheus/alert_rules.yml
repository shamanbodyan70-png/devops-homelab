groups:
- name: basic-rulesx
  rules:
  # üö® –ö–†–ò–¢–ò–ß–ù–û: –°–µ—Ä–≤–µ—Ä —É–ø–∞–ª
  - alert: InstanceDown
    expr: up == 0
    for: 1m
    labels:
      severity: critical
    annotations:
      summary: "Instance {{ $labels.instance }} is down"
      description: "–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –±–æ–ª–µ–µ 1 –º–∏–Ω—É—Ç—ã."

  # üî• –í–´–°–û–ö–ê–Ø –ù–ê–ì–†–£–ó–ö–ê: CPU > 80%
  - alert: HostHighCpuLoad
    expr: 100 - (avg by(instance) (rate(node_cpu_seconds_total{mode="idle"}[5m])) * 100) > 80
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: "High CPU load on {{ $labels.instance }}"
      description: "–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤—ã—à–µ 80% –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç."

  # ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ü–∞–º—è—Ç—å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è (–æ—Å—Ç–∞–ª–æ—Å—å < 10%)
  - alert: HostOutOfMemory
    expr: node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes * 100 < 10
    for: 5m
    labels:
      severity: info
    annotations:
      summary: "Low memory on {{ $labels.instance }}"
      description: "–°–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏ –æ—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω—å—à–µ 10%."
